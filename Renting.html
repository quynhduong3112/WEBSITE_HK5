<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt thuê</title>
    <link rel="stylesheet" href="../IMAGES/ICONS/fontawesome-free-5.15.4-web/css/all.min.css">
    <link rel="stylesheet" href="./CSS/renting.css">
    <link rel="stylesheet" href="./CSS/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
    <div class="website">
        <div class="Page__Header--Container">
            <div class="Page__Header--Tach">Tách studio</div>   
            <div class="Page__Header--Title"><i class="glyphicon glyphicon-home"></i></div>   
            <div class="Page__Header--Title Page__Header--Dropdown">
                Cho thuê
                <div class="dropdown-content">
                    <a href="#">Máy ảnh</a>
                    <a href="#">Studio</a>
                    <a href="#">Trang phục</a>
                </div>
            </div>   
            <div class="Page__Header--Title" id="color"><a href="#album">Album</a></div>
    
            <div class="Page__Header--Title">Blog</div>
    
            <div class="Page__Header--Icon">
                <span class="glyphicon glyphicon-search Page__Header--Icon2"></span>
                <input class="Page__Header--Search" type="text" placeholder="Nhập từ tìm kiếm">
            </div>            
            <div class="Page__Header--Ava"><img src="../IMAGES/header-avatar.png" alt=""></div>
        </div>
        <div class="container">
            <div class="datthue--top">
                <p class="datthue__top datthue__top--item--1">ĐẶT THUÊ</p>
                <div class="datthue__top--flex">                  
                    <div class="icons">
                        <div class="datthue__top--circle"><i class="icon fas fa-edit"></i></div>

                        <svg width="350" height="6" viewBox="0 0 350 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="400" height="6" fill="#C4C4C4"/>
                        </svg>
                        <div class="datthue__top--circle datthue__top--circle--2"><i class=" icon far fa-credit-card "></i></div>
                        <svg width="350" height="6" viewBox="0 0 350 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="350" height="6" fill="#C4C4C4"/>
                        </svg>
                        <div class="datthue__top--circle--2"><i class=" icon fas fa-check"></i></div>
                    </div>
                    <div class="datthue__top--item">
                        
                        <div class="item1"><p>Điền thông tin</p></div>
                        <div class="item2"><p>Thanh toán</p></div>
                        <div class="item3"><p>Hoàn tất đặt thuê</p></div>
                    </div>                    
                </div>
            </div>
            <div class="datthue__flex">
                <div class="datthue--left">
                    <div class="datthue__profile">
                        <img src="../IMAGES/profile.png" alt="" class="img">
                        <div class="datthue--name">
                            <p class="name">Ngocs</p>
                            <p class="font__size"><i class="fas fa-edit"></i>Chỉnh sửa hồ sơ</p>                              
                        </div>                     
                    </div>
                    <hr>
                <div class="datthue__bottom">
                    <div class="datthue--item">
                    <p>
                        <i class="fas fa-user"></i>
                        Tài khoản của tôi
                    </p>
                    </div>
                    <div class="datthue--item">
                    <p><i class="fas fa-shopping-cart"></i>
                        Đặt thuê</p>
                    </div>
                    <div class="datthue--item">
                    <p><i class="fas fa-bell"></i>
                        Thông báo</p>
                    </div>
                    <div class="datthue--item">
                    <p><i class="fas fa-percentage"></i>
                        Khuyến mãi</p>

                    </div>
                    <div class="datthue--item">
                    <p><i class="fas fa-sign-out-alt"></i>
                        Đăng xuất</p>

                    </div>
                </div>
                </div>            
                <div class="datthue--right">
                    <div class="datthue__align">
                        <div class="datthue__right datthue__right--item1">
                            <label for="" class="datthue__label--1">Dịch vụ/Sản phẩm:</label>
                            <label for="" class="datthue__label--2">COMBO CHỤP HÌNH GREENHOUSE</label>               
                        </div>
                            
                    <div class="datthue__right datthue__right--item2">
                        <label for="" class="datthue__label--3">Thời gian đến nhận/đặt DV:</label>
                        <input type="date" name="" id="date" checked class="datthue__select datthue__select--1 ">
                        </input>
                        <input type="time" name="" id="time" class="datthue__select datthue__select--2">
                        </input>
                    </div>
                    
                    <div class="datthue__right datthue__right--item3">
                        <label for="" class="datthue__label--4">Thời hạn đặt thuê:</label>
                        <select name="" id="" class="datthue__select datthue__select--4">
                            <option value="">1 Ngày</option>
                            <option value="">2 Ngày</option>
                            <option value="">3 Ngày</option>
                            <option value="">4 Ngày</option>
                            <option value="">5 Ngày</option>
                        </select>
                    </div>
                
                    <p class="title">NHẬP THÔNG TIN CÁ NHÂN</p>
                    <div class="nhapthongtin datthue__right--item4">
                        <label for="" class="datthue__label datthue__label--5">Họ và tên:<span class="color">*</span></label>
                        <input id = "personal-full-name" type="text" class="datthue__input" required onkeyup="changeName(event.target.value)">
                    </div>
                    <div class="nhapthongtin datthue__right--item5">
                        <label for="" class="datthue__label datthue__label--6">Số điện thoại:<span class="color">*</span></label>
                        <input id = "personal-phone" type="text" class="datthue__input" required onkeyup="changePhone(event.target.value)">
                    </div>
                    <div class="nhapthongtin datthue__right--item6">
                        <label for="" class="datthue__label datthue__label--7">CMND/CCCD:<span class="color">*</span></label>
                        <input id = "personal-identify-number" type="text" class="datthue__input" required onkeyup="changeIdentifyNumber(event.target.value)">
                    </div>
                    <div class="nhapthongtin datthue__right--item7">
                        <label for="" class="datthue__label datthue__label--8">Địa chỉ email:<span class="color">*</span></label>
                        <input id = "personal-email" type="email" class="datthue__input" required onkeyup="changeEmail(event.target.value)">
                    </div>
                    <div class="nhapthongtin datthue__right--item8">
                        <label for="" class="datthue__label datthue__label--9">Nhập mã giảm giá:</label>
                        <input type="text" class="datthue__input datthue__input--GG" placeholder="Mã giảm giá">
                        <input type="button" value="Dùng ngay" onclick="dn" src="#" class="datthue__input datthue__input--GG1">
                    </div>
                    <hr>
                    <p class="title">NHẬP THÔNG TIN NGƯỜI NHẬN</p>
                    <div class="input__checkbox"><input type="checkbox" name="" id="check-box-confirm" onclick="confirmInfor()">  Người nhận là bạn</div>
                    <div class="nhapthongtin datthue__right--item9">
                        <label for="" class="datthue__label datthue__label--10">Họ và tên:<span class="color">*</span></label>
                        <input name="" id="second-name" class="datthue__input">
                        </input>
                    </div>
                    <div class="nhapthongtin datthue__right--item10">
                        <label for="" class="datthue__label datthue__label--11">Số điện thoại:<span class="color">*</span></label>
                        <input name="" id="second-phone" type="text" checkmobile class="datthue__input">
                        </input>
                    </div>
                    <div class="nhapthongtin datthue__right--item11">
                        <label for="" class="datthue__label datthue__label--12">CMND/CCCD:<span class="color">*</span></label>
                        <input name="" id="second-identify-number" class="datthue__input">
                        </input>
                    </div>
                    <div class="nhapthongtin datthue__right--item12">
                        <label for="" class="datthue__label datthue__label--13">Địa chỉ email:<span class="color">*</span></label>
                        <input name="" id="second-email" type="email" class="datthue__input">
                        </input>
                    </div>
                    <div>
                        <input type="button" value="Đặt thuê" src="./order.html" id="renting" onclick="renting()"
                         class="datthue__input datthue__input--button2">
                        <a hfef = "#" id = "submit-form" hidden></a>
                    </div>
                    <div class="note">
                    <p class="bottom">(Bạn phải trả tiền đặt cọc = 50% tổng số tiền thuê)</p>                  
                    </div>              
                </div>
            </div>
        </div>            
        </div>
        <div class="page__footer--container footer__text">
            <div class="footer--left">
                <p class="footer__header">TÁCH STUDIO</p>
                <p>UEL, Tp Thủ Đức, Tp Hồ Chí Minh <br>
                    Call us: 0123456789 <br>
                    tachstudio@gmail.com
                </p>
                <p>Copyright @2021 Tách Creative Studio</p>
            </div>   
            <div class="footer--right">
                <p class="footer__header">LIÊN HỆ VỚI CHÚNG TÔI</p>
                <p> <img src="../IMAGES/footer-fb.png" alt=""> Tách studio</p>
                <p> <img src="../IMAGES/footer-ins.png" alt=""> tach.studio</p>
                <p> <img src="../IMAGES/footer-ytb.png" alt=""> Tách Studio Official</p>
            </div>
        </div>
    </div>
    </div>  
    <script type="text/javascript">     
            var today = new Date();
            var date = today.getDate()+'/'+(today.getMonth()+1)+'/'+today.getFullYear();
            document.getElementById("date").innerHTML = date;   
            let isConfirm = false;
        
            var today = new Date();      
            var time = today.getHours() + ":" + today.getMinutes();
            document.getElementById("time").innerHTML = time;

            // mấy cái thông tin ở trên nè
            let personalFullName = document.getElementById("personal-full-name"); // -> Họ và tên
            let personalNumberPhone = document.getElementById("personal-phone"); // -> Số điện thoại
            let personalIdentifyNumber = document.getElementById("personal-identify-number"); // -> CMND/CCCD
            let personalEmail = document.getElementById("personal-email"); // -> Email
            // Các thông tin ở dưới nè
            let secondFullName = document.getElementById("second-name"); // -> Họ và tên
            let secondNumberPhone = document.getElementById("second-phone"); // -> Số điện thoại
            let secondIdentifyNumber = document.getElementById("second-identify-number"); // -> CMND/CCCD
            let secondEmail = document.getElementById("second-email"); // -> Email

            // hàm để đặt thuê
            function renting() {
                if (handleErrorValidate()) {  // -> kiểm tra validate oke thì sẽ submit form để qua trang khác ->? chưa có trang nên nhỏ tự thêm thẻ vô
                    document.getElementById("submit-form").onsubmit;
                }
            }

            // xử lý khib  gặp lỗi nè
            function handleErrorValidate() {
                let isError = true;
                if (!validateFullName(personalFullName.value)) { // hàm kiểm tra lỗi của tên
                    isError = false;
                    personalFullName.classList.add("error");  // add thêm 1 class error vào, mấy cái dưới tương tự
                    secondFullName.classList.add("error");
                } else {
                    debugger;
                    personalFullName.classList.remove("error"); // loại bỏ 1 class error đó ra, mấy cái dưới tương tự
                    secondFullName.classList.remove("error");
                }

                if (!validateNumberPhone(personalNumberPhone.value)) {
                    isError = false;
                    personalNumberPhone.classList.add("error");
                    secondNumberPhone.classList.add("error");
                } else {
                    personalNumberPhone.classList.remove("error");
                    secondNumberPhone.classList.remove("error");
                }

                if (!validateIdentifyNumber(personalIdentifyNumber.value)) {
                    isError = false;
                    personalIdentifyNumber.classList.add("error");
                    secondIdentifyNumber.classList.add("error");
                } else {
                    personalIdentifyNumber.classList.remove("error");
                    secondIdentifyNumber.classList.remove("error");
                }
                debugger
                if (!validateEmail(personalEmail.value)) {
                    isError = false;
                    personalEmail.classList.add("error");
                    secondEmail.classList.add("error");
                } else {
                    personalEmail.classList.remove("error");
                    secondEmail.classList.remove("error");
                }
                return isError;
            }

            // hàm kiểm tra lỗi của tên
            function validateFullName(personalFullName) {
                const regex = /(.[^\d\!\@\#\$\%\^\&\*\(\)\-\=\+\_\;\:\'\"\,\<\.\>\/\?])+/g;  //-> regex này là nó lấy tấy cả các kí tự ngoại trừ những kí tự đặc biệt và số
                const result = personalFullName.match(regex);
                return result && result[0] == personalFullName ? true : false;
            }
            // hàm kiểm tra lỗi của số điện thoại
            function validateNumberPhone(personalNumberPhone) {
                const regex = /^\d{10}$/g; //-> regex này là nó lấy chỉ có số và phải đủ 10 số
                const result = personalNumberPhone.match(regex);
                return result && result[0] == personalNumberPhone ? true : false;
            }

            function validateIdentifyNumber(personalIdentifyNumber) {
                const regex = /^\d{9}$/g; //-> regex này là nó lấy chỉ có số và phải đủ 9 số
                const result = personalIdentifyNumber.match(regex);
                return result && result[0] == personalIdentifyNumber ? true : false;
            }

            function validateEmail(personalEmail) {
                const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/g; //-> regex này là nó lấy đúng định dạng email abc@abc.abc
                const result = personalEmail.match(regex);
               return result && result[0] == personalEmail ? true : false;
            }

            // check checkbox người nhận là bạn
            function confirmInfor() {
                isConfirm = !isConfirm;  // 1 biến để lưu status hiện tại của checkbox đó
                if (isConfirm) {  // nếu là tick checkbox
                    secondFullName.disabled = true;  // disable mấy thẻ ni luôn, k cho nhập
                    secondNumberPhone.disabled = true;
                    secondIdentifyNumber.disabled = true;
                    secondEmail.disabled = true;
                    secondFullName.value = document.getElementById("personal-full-name").value;  // lấy giá trị tương ứng ở trên bỏ vào đây
                    secondNumberPhone.value = document.getElementById("personal-phone").value;
                    secondIdentifyNumber.value = document.getElementById("personal-identify-number").value;
                    secondEmail.value = document.getElementById("personal-email").value;
                } else {
                    secondFullName.disabled = false;  // ngược lại ở trên
                    secondNumberPhone.disabled = false;
                    secondIdentifyNumber.disabled = false;
                    secondEmail.disabled = false;
                }
            }

            // hàm thay đổi input tên ở trên k phải ở dưới
            function changeName(data) {
                if (isConfirm) {
                    secondFullName.value = data;  // gán ô ở dưới với value ở trên tương ứng -> name với name, sdt với sđt
                }
            }

            // hàm thay đổi input tên ở trên k phải ở dưới
            function changePhone(data) {
                if (isConfirm) {
                    secondNumberPhone.value = data;
                }
            }

            // hàm thay đổi input tên ở trên k phải ở dưới
            function changeIdentifyNumber(data) {
                if (isConfirm) {
                    secondIdentifyNumber.value = data;
                }
            }

            // hàm thay đổi input tên ở trên k phải ở dưới
            function changeEmail(data) {
                if (isConfirm) {
                    secondEmail.value = data;
                }
            }
    </script>
</body>
</html>
